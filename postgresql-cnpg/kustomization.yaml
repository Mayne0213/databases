apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: postgresql-cnpg

resources:
  # Vault External Secrets
  - vault/app-user-secret.yaml
  - vault/superuser-secret.yaml
  # - vault/backup-s3-secret.yaml  # Disabled - using Velero instead

  # CNPG Cluster
  - manifests/cluster.yaml

  # PodMonitor for Prometheus metrics collection
  - ../cnpg/podmonitor.yaml

  # Scheduled Backup - Disabled, using Velero instead
  # - manifests/scheduled-backup.yaml
